---
import Layout from '../layouts/Layout.astro';
import AddProposalButton from '../components/AddProposalButton.tsx';
import ProposalList from '../components/ProposalList/ProposalList.astro';
import { getProposals } from '../services/proposal.ts';

const { cursor, proposals } = await getProposals();
---

<Layout title="Tulsa Web Devs">
  <main>
    <div class="md:container mx-auto bg-white rounded p-3">
      <div class="flex justify-between items-center mb-3">
        <h1 class="font-bold text-xl">Proposals</h1>

        <AddProposalButton client:load />
      </div>

      <ProposalList proposals={proposals} cursor={cursor} />
    </div>
  </main>
</Layout>
